# Numa Avatar 需求文档

## 核心目标

Numa Avatar 的核心目标是在用户环境中执行由 Numa Backend 分配的开发任务，完成从代码拉取、开发、测试到代码提交的完整流程。

## 核心能力需求

1. **任务订阅**：
   - 能够订阅来自 Numa Backend 的任务推送
   - 支持多种消息格式的解析

2. **Git操作**：
   - 支持多种Git服务(GitHub, GitLab等)
   - 实现代码仓库克隆、分支切换、代码提交等功能

3. **开发执行**：
   - 根据任务详情执行具体开发工作
   - 可能需要集成LLM进行代码生成和修改

4. **测试验证**：
   - 运行项目测试验证开发结果
   - 支持多种测试框架

5. **状态汇报**：
   - 向 Numa Backend 汇报任务执行状态
   - 上报详细的执行日志

## 通信机制

1. **任务接收**：通过消息topic订阅机制接收任务推送
2. **状态上报**：通过Web API主动上报执行状态
3. **信息获取**：通过Web API获取任务详情、更新任务状态

## 部署要求

1. **独立部署**：Avatar 需要能够独立部署在用户环境中
2. **资源占用**：尽量减少资源占用，适合在各种环境中运行
3. **配置灵活**：支持通过配置文件自定义行为

## 安全要求

1. **认证机制**：与 Backend 通信需要进行身份认证
2. **数据保护**：保护用户代码和敏感信息
3. **访问控制**：限制对本地系统的访问权限